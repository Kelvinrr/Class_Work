/**
 * @author Kelvin Rodriguez (KR788)
 * @date   1/31/15
 * 
 * @decription This class contains the three required sort algorithms
 *  		   Bubble sort, selection sort, and insertion sort
 */

package CS249_Project1;

import java.util.Arrays;
import java.util.Random;

/**
 * Class that contains the required sorting algorithms, 
 * the name may not very practical, but it's cute.
 * @author KR788
 */
public class SortingOfAllSorts {
	
	/////////////////////////////////////////////////////////////////
	/**
	 * A simple class holding sorting metrics, the number of 
	 * comparison and the copy instructions executed during sorting
	 */
	public static class SortData{
		public int comparisonCount;
		public int copyCount;
		
		@Override 
		public String toString() {
			return "comparisonCount = " + comparisonCount
			    +", copyCount = " + copyCount;
		}
		
		public void setToZero(){
			comparisonCount = 0;
			copyCount = 0;
		}
	}
	///////////////////////////////////////////////////////////////////
	
	
	/**
	 * Simple off-the-shelf bubble sort algorithm
	 * (i.e no optimization using flags and what-not)
	 * @param array the array to be sorted
	 * @return an object containing sorting metrics 
	 */
	public static SortData bubbleSort(int[] array){
		SortData results = new SortData();
		int temp;
		for(int i = 0; i < array.length-1; i++)
			for(int j = 0; j < array.length-1; j++){
				results.comparisonCount++;
				if(array[j] > array[j+1]){
					results.copyCount += 3;
					//swap ////////////////
					temp = array[j];
					array[j] = array[j+1];
					array[j+1] = temp;
					////////////////////////
				}
			}
		return results;
	}
	
	public static SortData selectionSort(int[] array){
		SortData results = new SortData();
		int temp;
		int j;
		int minValIndex;
		
		for(int i = 0; i < array.length; i++){
			minValIndex = i;
			for(j = i; j < array.length; j++)
				if(array[j] < array[minValIndex])
					minValIndex = j;
			
			if(minValIndex != i){
				temp = array[i];
				array[i] = array[minValIndex];
				array[minValIndex] = temp;
			}
		}
		
		return results;
	}
	
	public static void testSortingMethod(java.util.function.Function<int[], SortData> method, int[] array){
	
		System.out.println(method.apply(array));
		System.out.println("Sorted: " + Arrays.toString(array));
	}
	
	public static void main(String[] args) {
		int inverseSortedArray[] = {9,8,7,6,5,4,3,2,1,0};
		int partialSortedArray[] = {1,2,3,4,5,6,9,8,7,0};
		
		System.out.println("--------------Bubble Sort--------------");
		testSortingMethod(SortingOfAllSorts::bubbleSort, inverseSortedArray);
		testSortingMethod(SortingOfAllSorts::bubbleSort, partialSortedArray);
		System.out.println("---------------------------------------\n");
		testSortingMethod(SortingOfAllSorts::selectionSort, inverseSortedArray);
	}

}
